# Project-8---Sports-Analysis: Identifying Key Drivers of NBA Team Performance

This project analyzes NBA team statistics from the 2021-22 to 2024-25 seasons to address the research question: **What key team performance metrics can an NBA team focus on to maximize their chance to win the most games?** We also explore the drivers of offensive efficiency (Offensive Rating - ORTG).

We collected data using the `nba_api`, performed feature engineering (including calculating minutes-weighted average height and wingspan), compared different regression models (Linear Regression, Random Forest), obtained statistical inference using `statsmodels`, and used SHAP analysis for detailed model interpretation.

## Dependencies

This project uses Python 3. Key libraries include:
- pandas
- numpy
- matplotlib
- seaborn
- scikit-learn
- statsmodels
- shap
- nba_api

To install all required dependencies, navigate to the project's root directory in your terminal and run:
```bash
pip install -r requirements.txt
```

File Structure
data/: Contains raw, intermediate, and cleaned data files.
rawdata/: Raw data retrieved from APIs or external sources (including raw seasonal API outputs and player length CSV).
cleandata/: Processed data files ready for analysis (cleaned seasonal team stats, player minutes).
docs/: Project documentation files (e.g., the final report PDF or Markdown).
notebooks/: Jupyter notebooks containing the data collection, cleaning, analysis, and visualization code.
report/: (Recommended) May contain subfolders for figures used in the report.
.gitignore: Specifies intentionally untracked files by Git.
README.md: This file, providing an overview and instructions.
requirements.txt: List of Python dependencies generated by pip freeze.
ProjectDiscussionAndPlanning.md: Initial project planning document.
How to Run the Code
The analysis is performed through a series of Jupyter Notebooks located in the notebooks/ directory. They are designed to be run sequentially:

api.ipynb:

Purpose: Connects to the nba_api to collect raw seasonal team statistics and player minutes data for the specified seasons (2021-2025). May also fetch player measurement data if applicable or assume it's present in data/rawdata/.
Output: Saves raw CSV files into the data/rawdata/ subdirectories for each season.
combine_data.ipynb:

Purpose: Loads the raw seasonal data. Performs cleaning steps, including handling missing values via median imputation. Calculates the minutes-weighted average height and wingspan for each team per season. Saves the cleaned, processed data files for each season (e.g., [season].csv, player_minutes_[season].csv) into the data/cleandata/ directory. May also create and save a single combined DataFrame spanning all seasons.
Input: Reads from data/rawdata/.
Output: Saves cleaned data to data/cleandata/.
linear_regression.ipynb:

Purpose: Performs Linear Regression analysis predicting Wins and ORTG. Uses scikit-learn for model training, prediction, evaluation (R², MAE, RMSE), and plotting diagnostics (Actual vs. Predicted, Residuals). Also uses statsmodels to generate OLS summary tables including coefficients, standard errors, t-statistics, and p-values for inference.
Input: Reads cleaned data (likely from data/cleandata/ or a combined file generated by combine_data.ipynb).
Output: Prints evaluation metrics, OLS summaries, and displays diagnostic plots.
random_forest.ipynb:

Purpose: Performs Random Forest regression analysis predicting Wins and ORTG. Trains the model, evaluates performance (R², MAE, RMSE), calculates feature importances, and performs SHAP analysis (shap library) to generate interpretation plots (global importance bar plot, beeswarm summary plot).
Input: Reads cleaned data.
Output: Prints evaluation metrics and displays/saves feature importance and SHAP plots (likely saved to report/figures/ for use in the report).
Visualizations.ipynb (or potentially graphs.ipynb):

Purpose: Generates final summary visualizations used for comparison and context in the report/presentation. This likely includes the correlation matrix heatmap and the model performance comparison bar chart (comparing LR vs. RF R² values).
Input: Reads cleaned data and potentially metrics saved from previous notebooks.
Output: Displays/saves summary plots (e.g., to report/figures/).
Note on other notebooks: The purpose of graphs.ipynb and shot_chart.ipynb should be clarified. If they contain essential analysis steps, list them here in the correct order. If they contain exploratory analysis or specific visualizations not central to the main workflow, they can be mentioned optionally.
Please ensure you have installed all dependencies from requirements.txt before running the notebooks.

Member Contributions
(Please replace the descriptions below with accurate, specific contributions for each member)

Luka Gjolaj: [Example: Led data collection via nba_api, performed initial data cleaning and organization.]
Kevin Pham: [Example: Implemented Random Forest modeling and SHAP analysis, generated related plots and interpretation.]
Eric Grenadier: [Example: Developed player measurement integration, calculated weighted metrics, ran Linear Regression and Statsmodels analysis.]
Sahat: [Example: Conducted correlation analysis, contributed to feature selection discussion, drafted sections of the final report.]
Nate: [Example: Managed GitHub repository, finalized code documentation (README, comments/docstrings), created presentation slides.]